Index: app/src/main/java/com/rifeng/p2p/activity/SignupActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rifeng.p2p.activity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ClipData;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Message;\r\nimport android.text.TextUtils;\r\nimport android.view.KeyEvent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.gson.JsonObject;\r\nimport com.rifeng.p2p.R;\r\nimport com.rifeng.p2p.entity.InvitationCode;\r\nimport com.rifeng.p2p.entity.User;\r\nimport com.rifeng.p2p.http.RXHelper;\r\nimport com.rifeng.p2p.util.StringUtils;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport butterknife.BindView;\r\nimport io.reactivex.functions.Consumer;\r\nimport okhttp3.MediaType;\r\nimport okhttp3.RequestBody;\r\n\r\npublic class SignupActivity extends BaseActivity {\r\n\r\n    @BindView(R.id.et_email)\r\n    EditText etEmail;\r\n    @BindView(R.id.et_invitation_code)\r\n    EditText etInvitationCode;\r\n    @BindView(R.id.et_password)\r\n    EditText etPassword;\r\n    @BindView(R.id.et_new_password)\r\n    EditText etNewPassword;\r\n    @BindView(R.id.tv_agreet_context)\r\n    TextView tvAgreetContext;\r\n    @BindView(R.id.btn_continue)\r\n    Button btnContinue;\r\n    @BindView(R.id.cb_agree_checkbox)\r\n    CheckBox cbAgreeCheckbox;\r\n\r\n    @BindView(R.id.im_back)\r\n    ImageView imBack;\r\n    @BindView(R.id.tv_back)\r\n    TextView tvBack;\r\n\r\n    boolean isSelectOrNot = false;\r\n\r\n    private static boolean isReadedOrNot = false;\r\n\r\n    boolean isVaildOrNot = false; //验证码是否有效\r\n    private String companyName;\r\n\r\n\r\n    @SuppressLint(\"HandlerLeak\")\r\n    private final Handler mHandler = new Handler() {\r\n        @Override\r\n        public void handleMessage(@NonNull Message msg) {\r\n            super.handleMessage(msg);\r\n            switch (msg.what) {\r\n                case 0:\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    //初始化布局\r\n    @Override\r\n    protected int initLayout() {\r\n        return R.layout.activity_signup;\r\n    }\r\n\r\n    //初始化控件\r\n    @Override\r\n    protected void initView() {\r\n    }\r\n\r\n    //初始化点击事件，请求数据等操作\r\n    @Override\r\n    protected void initData() {\r\n        back(); //返回\r\n        onClick(); //点击继续\r\n    }\r\n\r\n    //点击物理键退出到注册界面\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n            System.out.println(\"退出\");\r\n            navigateTo(LoginActivity.class);\r\n            finish();\r\n        }\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n    //返回\r\n    public void back() {\r\n        imBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                navigateTo(LoginActivity.class);\r\n                finish();\r\n            }\r\n        });\r\n        tvBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                navigateTo(LoginActivity.class);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    //所有点击事件\r\n    public void onClick() {\r\n        btnContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                doCheckRegister();\r\n            }\r\n        });\r\n        cbAgreeCheckbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                ClipData.Item item = (ClipData.Item) buttonView.getTag();\r\n                if (isChecked) {\r\n                    isReadedOrNot = true;\r\n                    cbAgreeCheckbox.setBackgroundResource(R.mipmap.select_checkbox);\r\n                } else {\r\n                    isReadedOrNot = false;\r\n                    cbAgreeCheckbox.setBackgroundResource(R.mipmap.checkbox_image);\r\n                }\r\n            }\r\n        });\r\n        tvAgreetContext.setOnClickListener(new View.OnClickListener() { //阅读协议，并且设置成已读\r\n            @Override\r\n            public void onClick(View v) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"agreementType\", \"register\");\r\n                navigateToWithBundle(ArgreeDetailActivity.class, bundle);\r\n            }\r\n        });\r\n    }\r\n    public void doCheckRegister() {\r\n        if (checkForm()) {\r\n            checkRegister();\r\n        }\r\n    }\r\n    //表单校验\r\n    public boolean checkForm() {\r\n        boolean isCheckForm = true;\r\n        if (!isReadedOrNot) {\r\n            isCheckForm = false;\r\n            showToast(R.string.agreement_unread_error);\r\n        }\r\n        return isCheckForm;\r\n    }\r\n\r\n    public void checkRegister() {\r\n        RequestBody body = null;\r\n        try {\r\n            JSONObject dataObject = new JSONObject();\r\n            dataObject.put(\"email\", etEmail.getText().toString());\r\n            dataObject.put(\"invitationCode\", etInvitationCode.getText().toString());\r\n            dataObject.put(\"password\", etPassword.getText().toString());\r\n            dataObject.put(\"confirmPassword\", etNewPassword.getText().toString());\r\n            body = RequestBody.create(MediaType.parse(\"application/json; charset=utf-8\"), dataObject.toString());\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        mRFService.getInvitationCode(body)\r\n                .compose(RXHelper.RFFlowableTransformer())\r\n                .subscribe(new Consumer<String>() {\r\n                    @Override\r\n                    public void accept(String jsonObject) throws Exception {\r\n                        System.out.println(\"数据字段\");\r\n//                        companyName = jsonObject;\r\n                        Bundle bundle = new Bundle();\r\n                        bundle.putString(\"email\", etEmail.getText().toString());\r\n                        bundle.putString(\"invitationCode\", etInvitationCode.getText().toString());\r\n                        bundle.putString(\"password\", etPassword.getText().toString());\r\n                        bundle.putString(\"confirmPassword\", etNewPassword.getText().toString());\r\n//                        bundle.putString(\"companyName\", companyName);\r\n//                        System.out.println();\r\n//                        if (companyName != null) {\r\n                        navigateToWithBundle(RegisterActivity.class, bundle);\r\n                        finish();\r\n//                        } else if (companyName == null) {\r\n//                            showToast(\"The code is invaild\");\r\n//                        }\r\n                    }\r\n                }, mThrowableConsumer, mFinishAction);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/rifeng/p2p/activity/SignupActivity.java	(revision fd27d36e6697e8018bdea09fc45286569146b749)
+++ app/src/main/java/com/rifeng/p2p/activity/SignupActivity.java	(date 1627290327808)
@@ -183,8 +183,6 @@
                 .subscribe(new Consumer<String>() {
                     @Override
                     public void accept(String jsonObject) throws Exception {
-                        System.out.println("数据字段");
-//                        companyName = jsonObject;
                         Bundle bundle = new Bundle();
                         bundle.putString("email", etEmail.getText().toString());
                         bundle.putString("invitationCode", etInvitationCode.getText().toString());
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RunConfigurationProducerService\">\r\n    <option name=\"ignoredProducers\">\r\n      <set>\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\r\n      </set>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision fd27d36e6697e8018bdea09fc45286569146b749)
+++ .idea/runConfigurations.xml	(date 1626934965536)
@@ -3,6 +3,7 @@
   <component name="RunConfigurationProducerService">
     <option name="ignoredProducers">
       <set>
+        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: app/src/main/java/com/rifeng/p2p/adapter/RecyclerViewListAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.rifeng.p2p.adapter;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.rifeng.p2p.R;\r\nimport com.rifeng.p2p.entity.PressureRecord;\r\nimport com.rifeng.p2p.entity.Report;\r\nimport com.scwang.smartrefresh.layout.api.RefreshLayout;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * Created by caizhiming on 2016/8/13.\r\n */\r\n\r\npublic class RecyclerViewListAdapter extends RecyclerView.Adapter<RecyclerViewListAdapter.ItemViewHolder>{\r\n\r\n    private final Context mContext;\r\n    private final ArrayList<PressureRecord> mData = new ArrayList<>();\r\n    private RefreshLayout mRefreshLayout;\r\n\r\n    public RecyclerViewListAdapter(Context context){\r\n        mContext =context;\r\n    }\r\n    public void setData(List<PressureRecord> data){\r\n        mData.clear();\r\n        mData.addAll(data);\r\n        notifyDataSetChanged();\r\n    }\r\n    @Override\r\n    public ItemViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        View view = inflater.inflate(R.layout.item_report_layout,parent,false);\r\n        return new ItemViewHolder(view);\r\n    }\r\n    @SuppressLint(\"ResourceAsColor\")\r\n    @Override\r\n    public void onBindViewHolder(ItemViewHolder holder, int position) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(mContext);\r\n        View view = inflater.inflate(R.layout.item_report_layout,null,false);\r\n        System.out.println(\"数据长度1\" + mData.size());\r\n        if(holder instanceof ItemViewHolder){\r\n            holder.bindData(mData.get(position),position);\r\n        }\r\n        PressureRecord report = mData.get(position);\r\n\r\n        if ( \"fail\".equalsIgnoreCase(report.getTestResult())){ //当状态等于啥时，设置相应的颜色\r\n            holder.llTestStatus.setBackgroundResource(R.drawable.item_fail);\r\n            holder.Imfinish.setImageResource(R.mipmap.not_pass);\r\n            holder.tvTestStatus.setTextColor(view.getResources().getColor(R.color.Color_Fail_Text));\r\n        }\r\n        if (\"pass\".equalsIgnoreCase(report.getTestResult())){\r\n            holder.llTestStatus.setBackgroundResource(R.drawable.item_pass);\r\n            holder.Imfinish.setImageResource(R.mipmap.pass_2x);\r\n            holder.tvTestStatus.setTextColor(view.getResources().getColor(R.color.Color_Pass_Text));\r\n        }\r\n    }\r\n    protected void closeLoadMore() {\r\n        mRefreshLayout.finishLoadMore(false);\r\n    }\r\n    @Override\r\n    public int getItemCount() {\r\n        return mData.size();\r\n    }\r\n    public class ItemViewHolder extends RecyclerView.ViewHolder{\r\n        private final TextView testData;\r\n        private final TextView companyName;\r\n        private final TextView testResult;\r\n        private final TextView email;\r\n        private final TextView mobilePhone;\r\n        private final TextView testingMethod;\r\n        private final TextView projectName;\r\n        private final LinearLayout llTestStatus;\r\n        private final TextView tvTestStatus;\r\n        private Button btnEmail;\r\n        private final Button btnReport;\r\n        private final ImageView Imfinish;\r\n\r\n        public ItemViewHolder(View root){\r\n            super(root);\r\n            testData = itemView.findViewById(R.id.tv_test_time);\r\n            testResult = itemView.findViewById(R.id.tv_test_status);\r\n            companyName = itemView.findViewById(R.id.tv_company);\r\n            email = itemView.findViewById(R.id.tv_email);\r\n            mobilePhone = itemView.findViewById(R.id.tv_mobile_phone);\r\n            testingMethod = itemView.findViewById(R.id.tv_testing_method);\r\n            btnEmail = itemView.findViewById(R.id.btn_email);\r\n            btnReport = itemView.findViewById(R.id.btn_report);\r\n            llTestStatus = itemView.findViewById(R.id.ll_test_status);\r\n            Imfinish = itemView.findViewById(R.id.im_finish);\r\n            tvTestStatus = itemView.findViewById(R.id.tv_test_status);\r\n            projectName = itemView.findViewById(R.id.tv_project_name);\r\n\r\n            btnEmail = itemView.findViewById(R.id.btn_email);\r\n        }\r\n        public void bindData(final PressureRecord data, final int pos) {\r\n            testData.setText(data.getTestDate());\r\n            companyName.setText(data.getCompanyName());\r\n            testResult.setText(data.getTestResult());\r\n            email.setText(data.getEmail());\r\n            mobilePhone.setText(data.getMobileNumber());\r\n            testingMethod.setText(data.getTestMethod());\r\n            projectName.setText(data.getProjectName());\r\n\r\n\r\n            btnEmail.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (buttonInterface != null){\r\n                        buttonInterface.onClickEmail(v , mData.get(getLayoutPosition()));\r\n                    }\r\n                }\r\n            });\r\n            btnReport.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (buttonInterface != null){\r\n                        buttonInterface.onClickReport(v , mData.get(getLayoutPosition()));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public void clear() {\r\n        this.mData.clear();\r\n    }\r\n\r\n    /**\r\n     * 当点击RecyclerView某条的监听\r\n     */\r\n    public interface OnItemClickListener{\r\n        /**\r\n         * 当RecyclerView某个被点击的时候回调\r\n         * @param view 点击item的视图\r\n         * @param data 点击得到的数据\r\n         */\r\n        void onItemClick(View view, PressureRecord data);\r\n    }\r\n    private OnItemClickListener onItemClickListener;\r\n    /**\r\n     * 设置RecyclerView某个监听\r\n     */\r\n    public  void setOnItemClickListener(RecyclerViewListAdapter.OnItemClickListener onItemClickListener){\r\n        this.onItemClickListener = onItemClickListener;\r\n    }\r\n\r\n    private ButtonInterface buttonInterface;\r\n\r\n    /**\r\n     *按钮点击事件需要的方法\r\n     */\r\n    public void buttonSetOnclick(ButtonInterface buttonInterface){\r\n        this.buttonInterface=buttonInterface;\r\n    }\r\n\r\n    /**\r\n     * 按钮点击事件对应的接口\r\n     */\r\n    public interface ButtonInterface{\r\n        void onClickEmail(View view, PressureRecord pressureRecord);\r\n        void onClickReport(View view, PressureRecord pressureRecord);\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/rifeng/p2p/adapter/RecyclerViewListAdapter.java	(revision fd27d36e6697e8018bdea09fc45286569146b749)
+++ app/src/main/java/com/rifeng/p2p/adapter/RecyclerViewListAdapter.java	(date 1626934965548)
@@ -112,6 +112,7 @@
             email.setText(data.getEmail());
             mobilePhone.setText(data.getMobileNumber());
             testingMethod.setText(data.getTestMethod());
+
             projectName.setText(data.getProjectName());
 
 
Index: app/release/output-metadata.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n  \"version\": 2,\r\n  \"artifactType\": {\r\n    \"type\": \"APK\",\r\n    \"kind\": \"Directory\"\r\n  },\r\n  \"applicationId\": \"com.eb.rifeng.safeeu\",\r\n  \"variantName\": \"processReleaseResources\",\r\n  \"elements\": [\r\n    {\r\n      \"type\": \"SINGLE\",\r\n      \"filters\": [],\r\n      \"versionCode\": 1,\r\n      \"versionName\": \"1.0\",\r\n      \"outputFile\": \"RFGuard_1.0_20210722101545.apk\"\r\n    }\r\n  ]\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/release/output-metadata.json	(revision fd27d36e6697e8018bdea09fc45286569146b749)
+++ app/release/output-metadata.json	(date 1627014385273)
@@ -12,7 +12,7 @@
       "filters": [],
       "versionCode": 1,
       "versionName": "1.0",
-      "outputFile": "RFGuard_1.0_20210722101545.apk"
+      "outputFile": "RFGuard_1.0_20210723122524.apk"
     }
   ]
 }
\ No newline at end of file
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/PressureResultBeanDao.java app/src/main/java/com/rifeng/p2p/db/greendao/PressureResultBeanDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/LastDeviceTestIdDao.java app/src/main/java/com/rifeng/p2p/db/greendao/LastDeviceTestIdDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/PipeDiagramModelDao.java app/src/main/java/com/rifeng/p2p/db/greendao/PipeDiagramModelDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/PressureTestModelDao.java app/src/main/java/com/rifeng/p2p/db/greendao/PressureTestModelDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/LookupCodeDao.java app/src/main/java/com/rifeng/p2p/db/greendao/LookupCodeDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/DaoSession.java app/src/main/java/com/rifeng/p2p/db/greendao/DaoSession.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/UserAgencyPressureInfoDao.java app/src/main/java/com/rifeng/p2p/db/greendao/UserAgencyPressureInfoDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/DaoMaster.java app/src/main/java/com/rifeng/p2p/db/greendao/DaoMaster.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/BleDataBeanDao.java app/src/main/java/com/rifeng/p2p/db/greendao/BleDataBeanDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/AutoSubmitResultDao.java app/src/main/java/com/rifeng/p2p/db/greendao/AutoSubmitResultDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/PointDao.java app/src/main/java/com/rifeng/p2p/db/greendao/PointDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/PipeCodeModelDao.java app/src/main/java/com/rifeng/p2p/db/greendao/PipeCodeModelDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/BleRecordsDao.java app/src/main/java/com/rifeng/p2p/db/greendao/BleRecordsDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/HistoryRecordBeanDao.java app/src/main/java/com/rifeng/p2p/db/greendao/HistoryRecordBeanDao.java
diff --git app/src/main/java/com/rifeng/p2p/db/greendao/UserForeManBeanDao.java app/src/main/java/com/rifeng/p2p/db/greendao/UserForeManBeanDao.java
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_6_2_21_9_52_AM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_6_2_21_9_52_AM__Default_Changelist_.xml
